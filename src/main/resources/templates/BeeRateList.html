
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="meta description">

    <!-- Site title -->
    <title>Galio - Mega Shop Responsive Bootstrap 4 Template</title>
    <!-- Favicon -->
    <link rel="shortcut icon" th:href="@{/assets/img/favicon.ico}" type="image/x-icon" />
    <!-- Bootstrap CSS -->
    <link th:href="@{/assets/css/bootstrap.min.css}" rel="stylesheet">
    <!-- Font-Awesome CSS -->
    <link th:href="@{/assets/css/font-awesome.min.css}" rel="stylesheet">
    <!-- helper class css -->
    <link th:href="@{/assets/css/helper.min.css}" rel="stylesheet">
    <!-- Plugins CSS -->
    <link th:href="@{/assets/css/plugins.css}" rel="stylesheet">
    <!-- Main Style CSS -->
    <link th:href="@{/assets/css/chat.css}" rel="stylesheet">
    <link th:href="@{/assets/css/style.css}" rel="stylesheet">
    <link th:href="@{/assets/css/skin-default.css}" rel="stylesheet" id="galio-skin">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.5.0/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">


</head>
<body>
<div th:replace="fragments/header :: header"></div>
<div th:replace="fragments/chat :: div"></div>
<div th:replace="fragments/cart :: div"></div>
<div class="container mt-5">
    <h2 class="text-center mb-4">Danh sách đánh giá</h2>

    <table class="table table-bordered table-striped">
        <thead>
        <tr>
            <th>STT</th>
            <th>Tên khách hàng</th>
            <th>Tên sản phẩm</th>
            <th>Nội dung đánh giá</th>
            <th>Điểm đánh giá</th>
            <th>Trạng thái phản hồi</th>
            <th>Phản hồi đánh giá</th>
        </tr>
        </thead>
        <tbody>
        <!-- Lặp qua danh sách đánh giá -->
        <tr th:each="rate, iterStat : ${rates}">
            <td th:text="${iterStat.index + 1}">1</td>
            <td th:text="${rate.user.name}">Tên khách hàng</td>
            <td th:text="${rate.product.name}">Tên sản phẩm</td>
            <td th:text="${rate.content}">Nội dung đánh giá</td>
            <td th:text="${rate.rate}">Điểm đánh giá</td>
            <td>
                <span th:if="${rate.response == null or rate.response == ''}">Chưa đánh giá</span>
                <span th:if="${rate.response != null and rate.response != ''}">Đã đánh giá</span>
            </td>
            <td>
                <!-- Nếu đã phản hồi, hiển thị nút "Xem phản hồi" -->
                <a th:if="${rate.response != null and rate.response != ''}"
                   th:href="@{/admin/view-response/{rateID}(rateID=${rate.rateID})}"
                   class="btn btn-link">Xem phản hồi</a>
                <!-- Nếu chưa phản hồi, hiển thị nút "Phản hồi đánh giá" -->
                <a th:if="${rate.response == null or rate.response == ''}"
                   th:href="@{/admin/respond/{rateID}(rateID=${rate.rateID})}"
                   class="btn btn-primary">Phản hồi đánh giá</a>
            </td>
        </tr>
        </tbody>
    </table>

</div>
    <div th:replace="fragments/footer :: footer"></div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<!--All jQuery, Third Party Plugins & Activation (main.js) Files-->
<script th:src="@{/assets/js/vendor/modernizr-3.6.0.min.js}"></script>
<!-- Jquery Min Js -->
<script th:src="@{/assets/js/vendor/jquery-3.3.1.min.js}"></script>
<!-- Popper Min Js -->
<script th:src="@{/assets/js/vendor/popper.min.js}"></script>
<!-- Bootstrap Min Js -->
<script th:src="@{/assets/js/vendor/bootstrap.min.js}"></script>
<!-- Plugins Js-->
<script th:src="@{/assets/js/plugins.js}"></script>
<!-- Ajax Mail Js -->
<script th:src="@{/assets/js/ajax-mail.js}"></script>

<script th:src="@{/assets/js/chat.js}"></script>
<!-- Active Js -->
<script th:src="@{/assets/js/main.js}"></script>
<!-- Switcher JS [Please Remove this when Choose your Final Projct] -->
<script th:src="@{/assets/js/switcher.js}"></script>
</body>
